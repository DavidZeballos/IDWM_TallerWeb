<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">Carrito de Compras</h1>

  <div *ngIf="cart.length > 0; else emptyCart">
    <table class="w-full bg-white shadow-md rounded-lg">
      <thead>
        <tr>
          <th class="px-4 py-2">Producto</th>
          <th class="px-4 py-2">Precio</th>
          <th class="px-4 py-2">Cantidad</th>
          <th class="px-4 py-2">Subtotal</th>
          <th class="px-4 py-2">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cart; let i = index">
          <td class="border px-4 py-2">{{ item.name }}</td>
          <td class="border px-4 py-2">{{ item.price | currency }}</td>
          <td class="border px-4 py-2">
            <button (click)="decrementQuantity(i)" class="px-2">-</button>
            {{ item.quantity }}
            <button (click)="incrementQuantity(i)" class="px-2">+</button>
          </td>
          <td class="border px-4 py-2">{{ item.price * item.quantity | currency }}</td>
          <td class="border px-4 py-2">
            <button (click)="removeItem(i)" class="text-red-500">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="mt-4 flex justify-between items-center">
      <h2 class="text-xl font-bold">Total: {{ total | currency }}</h2>
      <button
        (click)="checkout()"
        class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"
      >
        Finalizar Compra
      </button>
    </div>
  </div>

  <ng-template #emptyCart>
    <p class="text-gray-600">Tu carrito está vacío.</p>
  </ng-template>
</div>
