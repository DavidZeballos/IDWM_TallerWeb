<div class="max-w-md mx-auto mt-10">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="bg-white p-6 shadow-md rounded">
    <h2 class="text-2xl font-bold mb-4">Registro</h2>

    <!-- CAMPO: Nombre de Usuario -->
    <div class="mb-4">
      <label class="block text-sm font-medium">Nombre de Usuario</label>
      <input
        type="text"
        formControlName="userName"
        class="border rounded w-full p-2"
        placeholder="Ej: Juan Pérez"
      />
      <!-- Errores (Front + Backend) -->
      <div
        *ngFor="let msg of getErrorMessagesForField('userName')"
        class="text-red-500 text-sm"
      >
        {{ msg }}
      </div>
    </div>

    <!-- CAMPO: Correo Electrónico -->
    <div class="mb-4">
      <label class="block text-sm font-medium">Correo Electrónico</label>
      <input
        type="email"
        formControlName="email"
        class="border rounded w-full p-2"
        placeholder="ejemplo@correo.com"
      />
      <div
        *ngFor="let msg of getErrorMessagesForField('email')"
        class="text-red-500 text-sm"
      >
        {{ msg }}
      </div>
    </div>

    <!-- CAMPO: RUT -->
    <div class="mb-4">
      <label class="block text-sm font-medium">RUT</label>
      <input
        type="text"
        formControlName="rut"
        class="border rounded w-full p-2"
        (blur)="formatRut($event)"
        placeholder="12345678-9"
      />
      <div
        *ngFor="let msg of getErrorMessagesForField('rut')"
        class="text-red-500 text-sm"
      >
        {{ msg }}
      </div>
    </div>

    <!-- CAMPO: Fecha de Nacimiento -->
    <div class="mb-4">
      <label class="block text-sm font-medium">Fecha de Nacimiento</label>
      <input
        type="date"
        formControlName="dateOfBirth"
        class="border rounded w-full p-2"
      />
      <div
        *ngFor="let msg of getErrorMessagesForField('dateOfBirth')"
        class="text-red-500 text-sm"
      >
        {{ msg }}
      </div>
    </div>

    <!-- CAMPO: Género -->
    <div class="mb-4">
      <label class="block text-sm font-medium">Género</label>
      <select formControlName="gender" class="border rounded w-full p-2">
        <option value="">Seleccione su género</option>
        <option value="Masculino">Masculino</option>
        <option value="Femenino">Femenino</option>
        <option value="Prefiero no decirlo">Prefiero no decirlo</option>
        <option value="Otro">Otro</option>
      </select>
      <div
        *ngFor="let msg of getErrorMessagesForField('gender')"
        class="text-red-500 text-sm"
      >
        {{ msg }}
      </div>
    </div>

    <!-- CAMPO: Contraseña -->
    <div class="mb-4">
      <label class="block text-sm font-medium">Contraseña</label>
      <input
        type="password"
        formControlName="password"
        class="border rounded w-full p-2"
        placeholder="Mín. 8, máx. 20, alfanumérica"
      />
      <div
        *ngFor="let msg of getErrorMessagesForField('password')"
        class="text-red-500 text-sm"
      >
        {{ msg }}
      </div>
    </div>

    <!-- CAMPO: Confirmar Contraseña -->
    <div class="mb-4">
      <label class="block text-sm font-medium">Confirmar Contraseña</label>
      <input
        type="password"
        formControlName="confirmPassword"
        class="border rounded w-full p-2"
        placeholder="Repite tu contraseña"
      />
      <div
        *ngFor="let msg of getErrorMessagesForField('confirmPassword')"
        class="text-red-500 text-sm"
      >
        {{ msg }}
      </div>
    </div>

    <!-- BOTÓN -->
    <button
      type="submit"
      [disabled]="registerForm.invalid"
      [ngClass]="{
        'bg-gray-300 text-gray-700 cursor-not-allowed': registerForm.invalid,
        'bg-teal-500 text-white hover:bg-teal-600': !registerForm.invalid
      }"
      class="w-full py-2 px-4 rounded-md text-sm font-semibold shadow-md transition-all"
    >
      Registrarse
    </button>
  </form>
</div>
