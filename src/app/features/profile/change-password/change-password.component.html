<div class="max-w-md mx-auto mt-10 p-6 bg-white shadow-md rounded-md">
  <h2 class="text-2xl font-bold mb-4 text-center">Cambiar Contraseña</h2>
  <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
    <div class="mb-4">
      <label class="block text-sm font-medium">Contraseña Actual</label>
      <input
        type="password"
        formControlName="currentPassword"
        class="border rounded w-full p-2"
      />
      <div
        *ngIf="passwordForm.get('currentPassword')?.invalid && passwordForm.get('currentPassword')?.touched"
        class="text-red-500 text-sm mt-1"
      >
        La contraseña actual es requerida.
      </div>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-medium">Nueva Contraseña</label>
      <input
        type="password"
        formControlName="newPassword"
        class="border rounded w-full p-2"
      />
      <div
        *ngIf="passwordForm.get('newPassword')?.errors?.['required'] && passwordForm.get('newPassword')?.touched"
        class="text-red-500 text-sm mt-1"
      >
        La nueva contraseña es requerida.
      </div>
      <div
        *ngIf="passwordForm.get('newPassword')?.errors?.['pattern'] && passwordForm.get('newPassword')?.touched"
        class="text-red-500 text-sm mt-1"
      >
        La nueva contraseña debe tener entre 8 y 20 caracteres, al menos una letra y un número.
      </div>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-medium">Confirmar Contraseña</label>
      <input
        type="password"
        formControlName="confirmPassword"
        class="border rounded w-full p-2"
      />
      <div
        *ngIf="passwordForm.get('confirmPassword')?.errors?.['required'] && passwordForm.get('confirmPassword')?.touched"
        class="text-red-500 text-sm mt-1"
      >
        Debe confirmar la nueva contraseña.
      </div>
      <div
        *ngIf="passwordForm.hasError('passwordMismatch') && passwordForm.get('confirmPassword')?.touched"
        class="text-red-500 text-sm mt-1"
      >
        Las contraseñas no coinciden.
      </div>
    </div>

    <button
      type="submit"
      class="bg-blue-500 text-white font-bold py-2 px-4 rounded w-full hover:bg-blue-600 disabled:bg-gray-400"
      [disabled]="passwordForm.invalid"
    >
      Cambiar Contraseña
    </button>
  </form>
</div>
